{"version":3,"file":"ngx-image-viewer.umd.js","sources":["~/ngx-image-viewer/src/app/image-viewer/image-viewer.module.ts","~/ngx-image-viewer/src/app/image-viewer/fullscreen.directive.ts","~/ngx-image-viewer/src/app/image-viewer/image-viewer.component.ts","~/ngx-image-viewer/src/app/image-viewer/image-viewer-config.model.ts"],"sourcesContent":["import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ImageViewerComponent } from './image-viewer.component';\nimport { ImageViewerConfig } from './image-viewer-config.model';\nimport { ToggleFullscreenDirective } from './fullscreen.directive';\nexport class ImageViewerModule {\n/**\n * @param {?=} config\n * @return {?}\n */\nstatic forRoot(config?: ImageViewerConfig): ModuleWithProviders {\n    return {\n      ngModule: ImageViewerModule,\n      providers: [{provide: 'config', useValue: config}]\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    ImageViewerComponent,\n    ToggleFullscreenDirective\n  ],\n  exports: [\n    ImageViewerComponent,\n    ToggleFullscreenDirective\n  ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ImageViewerModule_tsickle_Closure_declarations() {\n/** @type {?} */\nImageViewerModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nImageViewerModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Directive, HostListener, OnChanges, Input, ElementRef } from '@angular/core';\nimport * as screenfull from 'screenfull';\nexport class ToggleFullscreenDirective implements OnChanges {\n\n    \n    isFullscreen: boolean;\n/**\n * @param {?} el\n */\nconstructor(private el: ElementRef) { }\n/**\n * @return {?}\n */\nngOnChanges() {\n        if (this.isFullscreen && screenfull.enabled) {\n            screenfull.request(this.el.nativeElement);\n        } else if (screenfull.enabled) {\n            screenfull.exit();\n        }\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n    selector: '[ngxToggleFullscreen]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'isFullscreen': [{ type: Input, args: ['ngxToggleFullscreen', ] },],\n};\n}\n\nfunction ToggleFullscreenDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nToggleFullscreenDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nToggleFullscreenDirective.ctorParameters;\n/** @type {?} */\nToggleFullscreenDirective.propDecorators;\n/** @type {?} */\nToggleFullscreenDirective.prototype.isFullscreen;\n/** @type {?} */\nToggleFullscreenDirective.prototype.el;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Component, OnInit, Input, Optional, Inject, Output, EventEmitter, HostListener} from '@angular/core';\nimport { ImageViewerConfig, CustomEvent } from './image-viewer-config.model';\n\nconst /** @type {?} */ DEFAULT_CONFIG: ImageViewerConfig = {\n  btnClass: 'default',\n  zoomFactor: 0.1,\n  containerBackgroundColor: '#ccc',\n  wheelZoom: false,\n  allowFullscreen: true,\n  allowKeyboardNavigation: true,\n  btnShow: {\n    zoomIn: true,\n    zoomOut: true,\n    rotateClockwise: true,\n    rotateCounterClockwise: true,\n    next: true,\n    prev: true\n  },\n  btnIcons: {\n    zoomIn: 'fa fa-plus',\n    zoomOut: 'fa fa-minus',\n    rotateClockwise: 'fa fa-repeat',\n    rotateCounterClockwise: 'fa fa-undo',\n    next: 'fa fa-arrow-right',\n    prev: 'fa fa-arrow-left',\n    fullscreen: 'fa fa-arrows-alt',\n  }\n};\nexport class ImageViewerComponent implements OnInit {\n\n  \n  src: string[];\n\n  \n  index = 0;\n\n  \n  config: ImageViewerConfig;\n\n  \n  indexChange: EventEmitter<number> = new EventEmitter();\n\n  \n  configChange: EventEmitter<ImageViewerConfig> = new EventEmitter();\n\n  \n  customEvent: EventEmitter<CustomEvent> = new EventEmitter();\npublic style = { transform: '', msTransform: '', oTransform: '', webkitTransform: '' };\npublic fullscreen = false;\npublic loading = true;\nprivate scale = 1;\nprivate rotation = 0;\nprivate translateX = 0;\nprivate translateY = 0;\nprivate prevX: number;\nprivate prevY: number;\nprivate hovered = false;\n/**\n * @param {?} moduleConfig\n */\nconstructor(\npublic moduleConfig: ImageViewerConfig) { }\n/**\n * @return {?}\n */\nngOnInit() {\n    const /** @type {?} */ merged = this.mergeConfig(DEFAULT_CONFIG, this.moduleConfig);\n    this.config = this.mergeConfig(merged, this.config);\n    this.triggerConfigBinding();\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nnextImage(event) {\n    if (this.canNavigate(event) && this.index < this.src.length - 1) {\n      this.loading = true;\n      this.index++;\n      this.triggerIndexBinding();\n      this.reset();\n    }\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nprevImage(event) {\n    if (this.canNavigate(event) && this.index > 0) {\n      this.loading = true;\n      this.index--;\n      this.triggerIndexBinding();\n      this.reset();\n    }\n  }\n/**\n * @return {?}\n */\nzoomIn() {\n    this.scale *= (1 + this.config.zoomFactor);\n    this.updateStyle();\n  }\n/**\n * @return {?}\n */\nzoomOut() {\n    if (this.scale > this.config.zoomFactor) {\n      this.scale /= (1 + this.config.zoomFactor);\n    }\n    this.updateStyle();\n  }\n/**\n * @param {?} evt\n * @return {?}\n */\nscrollZoom(evt) {\n    if (this.config.wheelZoom) {\n      evt.deltaY > 0 ? this.zoomOut() : this.zoomIn();\n      return false;\n    }\n  }\n/**\n * @return {?}\n */\nrotateClockwise() {\n    this.rotation += 90;\n    this.updateStyle();\n  }\n/**\n * @return {?}\n */\nrotateCounterClockwise() {\n    this.rotation -= 90;\n    this.updateStyle();\n  }\n/**\n * @return {?}\n */\nonLoad() {\n    this.loading = false;\n  }\n/**\n * @return {?}\n */\nonLoadStart() {\n    this.loading = true;\n  }\n/**\n * @param {?} evt\n * @return {?}\n */\nonDragOver(evt) {\n    this.translateX += (evt.clientX - this.prevX);\n    this.translateY += (evt.clientY - this.prevY);\n    this.prevX = evt.clientX;\n    this.prevY = evt.clientY;\n    this.updateStyle();\n  }\n/**\n * @param {?} evt\n * @return {?}\n */\nonDragStart(evt) {\n    evt.dataTransfer.setDragImage(evt.target.nextElementSibling, 0, 0);\n    this.prevX = evt.clientX;\n    this.prevY = evt.clientY;\n  }\n/**\n * @return {?}\n */\ntoggleFullscreen() {\n    this.fullscreen = !this.fullscreen;\n    if (!this.fullscreen) {\n      this.reset();\n    }\n  }\n/**\n * @return {?}\n */\ntriggerIndexBinding() {\n    this.indexChange.emit(this.index);\n  }\n/**\n * @return {?}\n */\ntriggerConfigBinding() {\n    this.configChange.next(this.config);\n  }\n/**\n * @param {?} name\n * @param {?} imageIndex\n * @return {?}\n */\nfireCustomEvent(name, imageIndex) {\n    this.customEvent.emit(new CustomEvent(name, imageIndex));\n  }\n/**\n * @return {?}\n */\nreset() {\n    this.scale = 1;\n    this.rotation = 0;\n    this.translateX = 0;\n    this.translateY = 0;\n    this.updateStyle();\n  }\n/**\n * @return {?}\n */\nprivate onMouseOver() {\n    this.hovered = true;\n  }\n/**\n * @return {?}\n */\nprivate onMouseLeave() {\n    this.hovered = false;\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nprivate canNavigate(event: any) {\n    return event == null ||  (this.config.allowKeyboardNavigation && this.hovered);\n  }\n/**\n * @return {?}\n */\nprivate updateStyle() {\n    this.style.transform = `translate(${this.translateX}px, ${this.translateY}px) rotate(${this.rotation}deg) scale(${this.scale})`;\n    this.style.msTransform = this.style.transform;\n    this.style.webkitTransform = this.style.transform;\n    this.style.oTransform = this.style.transform;\n  }\n/**\n * @param {?} defaultValues\n * @param {?} overrideValues\n * @return {?}\n */\nprivate mergeConfig(defaultValues: ImageViewerConfig, overrideValues: ImageViewerConfig): ImageViewerConfig {\n    let /** @type {?} */ result: ImageViewerConfig = { ...defaultValues };\n    if (overrideValues) {\n      result = { ...defaultValues, ...overrideValues };\n\n      if (overrideValues.btnIcons) {\n        result.btnIcons = { ...defaultValues.btnIcons, ...overrideValues.btnIcons };\n      }\n    }\n    return result;\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ngx-image-viewer',\n  template: `\n    <div [ngxToggleFullscreen]=\"fullscreen\" class=\"img-container\" [style.backgroundColor]=\"config.containerBackgroundColor\"\n         (wheel)=\"scrollZoom($event)\" (dragover)=\"onDragOver($event)\">\n      <img [src]=\"src[index]\" [ngStyle]=\"style\" alt=\"Image not found...\" (dragstart)=\"onDragStart($event)\" (load)=\"onLoad()\" (loadstart)=\"onLoadStart()\"/>\n      <!-- Div below will be used to hide the 'ghost' image when dragging -->\n      <div></div>\n      <div class=\"spinner-container\" *ngIf=\"loading\">\n        <div class=\"spinner\"></div>\n      </div>\n\n      <button [class]=\"config.btnClass\" *ngIf=\"config.btnShow.rotateCounterClockwise\" (click)=\"rotateCounterClockwise()\">\n        <span [class]=\"config.btnIcons.rotateCounterClockwise\"></span>\n      </button>\n      <button [class]=\"config.btnClass\" *ngIf=\"config.btnShow.rotateClockwise\" (click)=\"rotateClockwise()\">\n        <span [class]=\"config.btnIcons.rotateClockwise\"></span>\n      </button>\n\n      <button [class]=\"config.btnClass\" *ngIf=\"config.btnShow.zoomOut\" (click)=\"zoomOut()\">\n        <span [class]=\"config.btnIcons.zoomOut\"></span>\n      </button>\n      <button [class]=\"config.btnClass\" *ngIf=\"config.btnShow.zoomIn\" (click)=\"zoomIn()\">\n        <span [class]=\"config.btnIcons.zoomIn\"></span>\n      </button>\n\n      <button [class]=\"config.btnClass\" *ngFor=\"let cBtn of config.customBtns\" (click)=\"fireCustomEvent(cBtn.name, index)\">\n        <span [class]=\"cBtn.icon\"></span>\n      </button>\n\n      <button id=\"ngx-fs-btn\" [class]=\"config.btnClass\" (click)=\"toggleFullscreen()\" *ngIf=\"config.allowFullscreen\">\n        <span [class]=\"config.btnIcons.fullscreen\"></span>\n      </button>\n\n      <div class=\"nav-button-container\" *ngIf=\"src.length > 1\">\n        <button [class]=\"config.btnClass\" (click)=\"prevImage()\" [disabled]=\"index === 0\">\n          <span [class]=\"config.btnIcons.prev\"></span>\n        </button>\n        <button [class]=\"config.btnClass\" (click)=\"nextImage()\" [disabled]=\"index === src.length - 1\">\n          <span [class]=\"config.btnIcons.next\"></span>\n        </button>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .img-container {\n      height: 100%;\n      width: 100%;\n      overflow: hidden;\n      position: relative; }\n\n    .img-container img {\n      z-index: 2;\n      margin: 0 auto;\n      display: block;\n      max-width: 100%;\n      max-height: 100%; }\n\n    .img-container button {\n      z-index: 99;\n      position: absolute;\n      right: 15px; }\n      .img-container button:not(:disabled) {\n        cursor: pointer; }\n\n    .img-container > button:nth-of-type(1):not(#ngx-fs-btn) {\n      bottom: 15px; }\n\n    .img-container > button:nth-of-type(2):not(#ngx-fs-btn) {\n      bottom: 65px; }\n\n    .img-container > button:nth-of-type(3):not(#ngx-fs-btn) {\n      bottom: 115px; }\n\n    .img-container > button:nth-of-type(4):not(#ngx-fs-btn) {\n      bottom: 165px; }\n\n    .img-container > button:nth-of-type(5):not(#ngx-fs-btn) {\n      bottom: 215px; }\n\n    .img-container > button:nth-of-type(6):not(#ngx-fs-btn) {\n      bottom: 265px; }\n\n    .img-container > button:nth-of-type(7):not(#ngx-fs-btn) {\n      bottom: 315px; }\n\n    #ngx-fs-btn {\n      top: 15px; }\n\n    button.default {\n      height: 40px;\n      width: 40px;\n      border: 1px solid #555;\n      border-radius: 50%;\n      background-color: white;\n      opacity: 0.7;\n      -webkit-transition: opacity 200ms;\n      transition: opacity 200ms; }\n\n    button.default:hover {\n      opacity: 1; }\n\n    button.default:disabled {\n      opacity: 0.25; }\n\n    .nav-button-container > button {\n      position: relative;\n      right: 0;\n      margin: 0 10px; }\n\n    .nav-button-container {\n      text-align: center;\n      position: absolute;\n      z-index: 98;\n      bottom: 10px;\n      left: 0;\n      right: 0; }\n\n    .spinner-container {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      width: 60px;\n      height: 60px;\n      margin: auto;\n      padding: 10px;\n      background-color: rgba(0, 0, 0, 0.4);\n      border-radius: 25%; }\n\n    .spinner {\n      border-width: 7px;\n      border-style: solid;\n      border-color: #ccc;\n      border-bottom-color: #222;\n      border-radius: 50%;\n      height: 100%;\n      width: 100%;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      -webkit-animation: rotation 2s linear infinite;\n      /* Safari 4+ */\n      /* Fx 5+ */\n      /* Opera 12+ */\n      animation: rotation 2s linear infinite;\n      /* IE 10+, Fx 29+ */ }\n\n    @keyframes rotation {\n      from {\n        -webkit-transform: rotate(0deg); }\n      to {\n        -webkit-transform: rotate(359deg); } }\n\n    @-webkit-keyframes rotation {\n      from {\n        -webkit-transform: rotate(0deg); }\n      to {\n        -webkit-transform: rotate(359deg); } }\n  `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: ['config', ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'src': [{ type: Input },],\n'index': [{ type: Input },],\n'config': [{ type: Input },],\n'indexChange': [{ type: Output },],\n'configChange': [{ type: Output },],\n'customEvent': [{ type: Output },],\n'nextImage': [{ type: HostListener, args: ['window:keyup.ArrowRight', ['$event'], ] },],\n'prevImage': [{ type: HostListener, args: ['window:keyup.ArrowLeft', ['$event'], ] },],\n'onMouseOver': [{ type: HostListener, args: ['mouseover', ] },],\n'onMouseLeave': [{ type: HostListener, args: ['mouseleave', ] },],\n};\n}\n\nfunction ImageViewerComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nImageViewerComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nImageViewerComponent.ctorParameters;\n/** @type {?} */\nImageViewerComponent.propDecorators;\n/** @type {?} */\nImageViewerComponent.prototype.src;\n/** @type {?} */\nImageViewerComponent.prototype.index;\n/** @type {?} */\nImageViewerComponent.prototype.config;\n/** @type {?} */\nImageViewerComponent.prototype.indexChange;\n/** @type {?} */\nImageViewerComponent.prototype.configChange;\n/** @type {?} */\nImageViewerComponent.prototype.customEvent;\n/** @type {?} */\nImageViewerComponent.prototype.style;\n/** @type {?} */\nImageViewerComponent.prototype.fullscreen;\n/** @type {?} */\nImageViewerComponent.prototype.loading;\n/** @type {?} */\nImageViewerComponent.prototype.scale;\n/** @type {?} */\nImageViewerComponent.prototype.rotation;\n/** @type {?} */\nImageViewerComponent.prototype.translateX;\n/** @type {?} */\nImageViewerComponent.prototype.translateY;\n/** @type {?} */\nImageViewerComponent.prototype.prevX;\n/** @type {?} */\nImageViewerComponent.prototype.prevY;\n/** @type {?} */\nImageViewerComponent.prototype.hovered;\n/** @type {?} */\nImageViewerComponent.prototype.moduleConfig;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","export interface ImageViewerConfig {\n    btnClass?: string;\n    zoomFactor?: number;\n    containerBackgroundColor?: string;\n    wheelZoom?: boolean;\n    allowFullscreen?: boolean;\n    allowKeyboardNavigation?: boolean;\n\n    btnShow?: {\n      zoomIn?: boolean;\n      zoomOut?: boolean;\n      rotateClockwise?: boolean;\n      rotateCounterClockwise?: boolean;\n      next?: boolean;\n      prev?: boolean;\n    };\n\n    btnIcons?: {\n        zoomIn?: string;\n        zoomOut?: string;\n        rotateClockwise?: string;\n        rotateCounterClockwise?: string;\n        next?: string;\n        prev?: string;\n        fullscreen?: string;\n    };\n\n    customBtns?: Array<\n      {\n        name: string;\n        icon: string;\n      }\n    >;\n}\nexport class CustomEvent {\n  name: string;\n  imageIndex: number;\n/**\n * @param {?} name\n * @param {?} imageIndex\n */\nconstructor(name, imageIndex) {\n    this.name = name;\n    this.imageIndex = imageIndex;\n  }\n}\n\nfunction CustomEvent_tsickle_Closure_declarations() {\n/** @type {?} */\nCustomEvent.prototype.name;\n/** @type {?} */\nCustomEvent.prototype.imageIndex;\n}\n\n"],"names":["CommonModule","NgModule","Input","ElementRef","Directive","screenfull.exit","screenfull.enabled","screenfull.request","HostListener","Output","Optional","Inject","Component","EventEmitter"],"mappings":"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"}
