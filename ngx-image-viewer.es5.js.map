{"version":3,"file":"ngx-image-viewer.es5.js","sources":["ts/ngx-image-viewer.ts","ts/src/app/image-viewer/image-viewer.module.ts","ts/src/app/image-viewer/fullscreen.directive.ts","ts/src/app/image-viewer/image-viewer.component.ts","ts/src/app/image-viewer/image-viewer-config.model.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {ImageViewerComponent,ImageViewerConfig,CustomEvent,ImageViewerModule} from './public_api';\n\nexport {ToggleFullscreenDirective as Éµa} from './src/app/image-viewer/fullscreen.directive';","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ImageViewerComponent } from './image-viewer.component';\nimport { ImageViewerConfig } from './image-viewer-config.model';\nimport { ToggleFullscreenDirective } from './fullscreen.directive';\nexport class ImageViewerModule {\n/**\n * @param {?=} config\n * @return {?}\n */\nstatic forRoot(config?: ImageViewerConfig): ModuleWithProviders {\n    return {\n      ngModule: ImageViewerModule,\n      providers: [{provide: 'config', useValue: config}]\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    ImageViewerComponent,\n    ToggleFullscreenDirective\n  ],\n  exports: [\n    ImageViewerComponent,\n    ToggleFullscreenDirective\n  ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ImageViewerModule_tsickle_Closure_declarations() {\n/** @type {?} */\nImageViewerModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nImageViewerModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Directive, HostListener, OnChanges, Input, ElementRef } from '@angular/core';\nimport * as screenfull from 'screenfull';\nexport class ToggleFullscreenDirective implements OnChanges {\n\n    \n    isFullscreen: boolean;\n/**\n * @param {?} el\n */\nconstructor(private el: ElementRef) { }\n/**\n * @return {?}\n */\nngOnChanges() {\n        if (this.isFullscreen && screenfull.enabled) {\n            screenfull.request(this.el.nativeElement);\n        } else if (screenfull.enabled) {\n            screenfull.exit();\n        }\n    }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n    selector: '[ngxToggleFullscreen]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'isFullscreen': [{ type: Input, args: ['ngxToggleFullscreen', ] },],\n};\n}\n\nfunction ToggleFullscreenDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nToggleFullscreenDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nToggleFullscreenDirective.ctorParameters;\n/** @type {?} */\nToggleFullscreenDirective.propDecorators;\n/** @type {?} */\nToggleFullscreenDirective.prototype.isFullscreen;\n/** @type {?} */\nToggleFullscreenDirective.prototype.el;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {Component, OnInit, Input, Optional, Inject, Output, EventEmitter, HostListener} from '@angular/core';\nimport { ImageViewerConfig, CustomEvent } from './image-viewer-config.model';\n\nconst /** @type {?} */ DEFAULT_CONFIG: ImageViewerConfig = {\n  btnClass: 'default',\n  zoomFactor: 0.1,\n  containerBackgroundColor: '#ccc',\n  wheelZoom: false,\n  allowFullscreen: true,\n  allowKeyboardNavigation: true,\n  btnShow: {\n    zoomIn: true,\n    zoomOut: true,\n    rotateClockwise: true,\n    rotateCounterClockwise: true,\n    next: true,\n    prev: true\n  },\n  btnIcons: {\n    zoomIn: 'fa fa-plus',\n    zoomOut: 'fa fa-minus',\n    rotateClockwise: 'fa fa-repeat',\n    rotateCounterClockwise: 'fa fa-undo',\n    next: 'fa fa-arrow-right',\n    prev: 'fa fa-arrow-left',\n    fullscreen: 'fa fa-arrows-alt',\n  }\n};\nexport class ImageViewerComponent implements OnInit {\n\n  \n  src: string[];\n\n  \n  index = 0;\n\n  \n  config: ImageViewerConfig;\n\n  \n  indexChange: EventEmitter<number> = new EventEmitter();\n\n  \n  configChange: EventEmitter<ImageViewerConfig> = new EventEmitter();\n\n  \n  customEvent: EventEmitter<CustomEvent> = new EventEmitter();\npublic style = { transform: '', msTransform: '', oTransform: '', webkitTransform: '' };\npublic fullscreen = false;\npublic loading = true;\nprivate scale = 1;\nprivate rotation = 0;\nprivate translateX = 0;\nprivate translateY = 0;\nprivate prevX: number;\nprivate prevY: number;\nprivate hovered = false;\n/**\n * @param {?} moduleConfig\n */\nconstructor(\npublic moduleConfig: ImageViewerConfig) { }\n/**\n * @return {?}\n */\nngOnInit() {\n    const /** @type {?} */ merged = this.mergeConfig(DEFAULT_CONFIG, this.moduleConfig);\n    this.config = this.mergeConfig(merged, this.config);\n    this.triggerConfigBinding();\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nnextImage(event) {\n    if (this.canNavigate(event) && this.index < this.src.length - 1) {\n      this.loading = true;\n      this.index++;\n      this.triggerIndexBinding();\n      this.reset();\n    }\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nprevImage(event) {\n    if (this.canNavigate(event) && this.index > 0) {\n      this.loading = true;\n      this.index--;\n      this.triggerIndexBinding();\n      this.reset();\n    }\n  }\n/**\n * @return {?}\n */\nzoomIn() {\n    this.scale *= (1 + this.config.zoomFactor);\n    this.updateStyle();\n  }\n/**\n * @return {?}\n */\nzoomOut() {\n    if (this.scale > this.config.zoomFactor) {\n      this.scale /= (1 + this.config.zoomFactor);\n    }\n    this.updateStyle();\n  }\n/**\n * @param {?} evt\n * @return {?}\n */\nscrollZoom(evt) {\n    if (this.config.wheelZoom) {\n      evt.deltaY > 0 ? this.zoomOut() : this.zoomIn();\n      return false;\n    }\n  }\n/**\n * @return {?}\n */\nrotateClockwise() {\n    this.rotation += 90;\n    this.updateStyle();\n  }\n/**\n * @return {?}\n */\nrotateCounterClockwise() {\n    this.rotation -= 90;\n    this.updateStyle();\n  }\n/**\n * @return {?}\n */\nonLoad() {\n    this.loading = false;\n  }\n/**\n * @return {?}\n */\nonLoadStart() {\n    this.loading = true;\n  }\n/**\n * @param {?} evt\n * @return {?}\n */\nonDragOver(evt) {\n    this.translateX += (evt.clientX - this.prevX);\n    this.translateY += (evt.clientY - this.prevY);\n    this.prevX = evt.clientX;\n    this.prevY = evt.clientY;\n    this.updateStyle();\n  }\n/**\n * @param {?} evt\n * @return {?}\n */\nonDragStart(evt) {\n    evt.dataTransfer.setDragImage(evt.target.nextElementSibling, 0, 0);\n    this.prevX = evt.clientX;\n    this.prevY = evt.clientY;\n  }\n/**\n * @return {?}\n */\ntoggleFullscreen() {\n    this.fullscreen = !this.fullscreen;\n    if (!this.fullscreen) {\n      this.reset();\n    }\n  }\n/**\n * @return {?}\n */\ntriggerIndexBinding() {\n    this.indexChange.emit(this.index);\n  }\n/**\n * @return {?}\n */\ntriggerConfigBinding() {\n    this.configChange.next(this.config);\n  }\n/**\n * @param {?} name\n * @param {?} imageIndex\n * @return {?}\n */\nfireCustomEvent(name, imageIndex) {\n    this.customEvent.emit(new CustomEvent(name, imageIndex));\n  }\n/**\n * @return {?}\n */\nreset() {\n    this.scale = 1;\n    this.rotation = 0;\n    this.translateX = 0;\n    this.translateY = 0;\n    this.updateStyle();\n  }\n/**\n * @return {?}\n */\nprivate onMouseOver() {\n    this.hovered = true;\n  }\n/**\n * @return {?}\n */\nprivate onMouseLeave() {\n    this.hovered = false;\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nprivate canNavigate(event: any) {\n    return event == null ||  (this.config.allowKeyboardNavigation && this.hovered);\n  }\n/**\n * @return {?}\n */\nprivate updateStyle() {\n    this.style.transform = `translate(${this.translateX}px, ${this.translateY}px) rotate(${this.rotation}deg) scale(${this.scale})`;\n    this.style.msTransform = this.style.transform;\n    this.style.webkitTransform = this.style.transform;\n    this.style.oTransform = this.style.transform;\n  }\n/**\n * @param {?} defaultValues\n * @param {?} overrideValues\n * @return {?}\n */\nprivate mergeConfig(defaultValues: ImageViewerConfig, overrideValues: ImageViewerConfig): ImageViewerConfig {\n    let /** @type {?} */ result: ImageViewerConfig = { ...defaultValues };\n    if (overrideValues) {\n      result = { ...defaultValues, ...overrideValues };\n\n      if (overrideValues.btnIcons) {\n        result.btnIcons = { ...defaultValues.btnIcons, ...overrideValues.btnIcons };\n      }\n    }\n    return result;\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ngx-image-viewer',\n  template: `\n    <div [ngxToggleFullscreen]=\"fullscreen\" class=\"img-container\" [style.backgroundColor]=\"config.containerBackgroundColor\"\n         (wheel)=\"scrollZoom($event)\" (dragover)=\"onDragOver($event)\">\n      <img [src]=\"src[index]\" [ngStyle]=\"style\" alt=\"Image not found...\" (dragstart)=\"onDragStart($event)\" (load)=\"onLoad()\" (loadstart)=\"onLoadStart()\"/>\n      <!-- Div below will be used to hide the 'ghost' image when dragging -->\n      <div></div>\n      <div class=\"spinner-container\" *ngIf=\"loading\">\n        <div class=\"spinner\"></div>\n      </div>\n\n      <button [class]=\"config.btnClass\" *ngIf=\"config.btnShow.rotateCounterClockwise\" (click)=\"rotateCounterClockwise()\">\n        <span [class]=\"config.btnIcons.rotateCounterClockwise\"></span>\n      </button>\n      <button [class]=\"config.btnClass\" *ngIf=\"config.btnShow.rotateClockwise\" (click)=\"rotateClockwise()\">\n        <span [class]=\"config.btnIcons.rotateClockwise\"></span>\n      </button>\n\n      <button [class]=\"config.btnClass\" *ngIf=\"config.btnShow.zoomOut\" (click)=\"zoomOut()\">\n        <span [class]=\"config.btnIcons.zoomOut\"></span>\n      </button>\n      <button [class]=\"config.btnClass\" *ngIf=\"config.btnShow.zoomIn\" (click)=\"zoomIn()\">\n        <span [class]=\"config.btnIcons.zoomIn\"></span>\n      </button>\n\n      <button [class]=\"config.btnClass\" *ngFor=\"let cBtn of config.customBtns\" (click)=\"fireCustomEvent(cBtn.name, index)\">\n        <span [class]=\"cBtn.icon\"></span>\n      </button>\n\n      <button id=\"ngx-fs-btn\" [class]=\"config.btnClass\" (click)=\"toggleFullscreen()\" *ngIf=\"config.allowFullscreen\">\n        <span [class]=\"config.btnIcons.fullscreen\"></span>\n      </button>\n\n      <div class=\"nav-button-container\" *ngIf=\"src.length > 1\">\n        <button [class]=\"config.btnClass\" (click)=\"prevImage()\" [disabled]=\"index === 0\">\n          <span [class]=\"config.btnIcons.prev\"></span>\n        </button>\n        <button [class]=\"config.btnClass\" (click)=\"nextImage()\" [disabled]=\"index === src.length - 1\">\n          <span [class]=\"config.btnIcons.next\"></span>\n        </button>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .img-container {\n      height: 100%;\n      width: 100%;\n      overflow: hidden;\n      position: relative; }\n\n    .img-container img {\n      z-index: 2;\n      margin: 0 auto;\n      display: block;\n      max-width: 100%;\n      max-height: 100%; }\n\n    .img-container button {\n      z-index: 99;\n      position: absolute;\n      right: 15px; }\n      .img-container button:not(:disabled) {\n        cursor: pointer; }\n\n    .img-container > button:nth-of-type(1):not(#ngx-fs-btn) {\n      bottom: 15px; }\n\n    .img-container > button:nth-of-type(2):not(#ngx-fs-btn) {\n      bottom: 65px; }\n\n    .img-container > button:nth-of-type(3):not(#ngx-fs-btn) {\n      bottom: 115px; }\n\n    .img-container > button:nth-of-type(4):not(#ngx-fs-btn) {\n      bottom: 165px; }\n\n    .img-container > button:nth-of-type(5):not(#ngx-fs-btn) {\n      bottom: 215px; }\n\n    .img-container > button:nth-of-type(6):not(#ngx-fs-btn) {\n      bottom: 265px; }\n\n    .img-container > button:nth-of-type(7):not(#ngx-fs-btn) {\n      bottom: 315px; }\n\n    #ngx-fs-btn {\n      top: 15px; }\n\n    button.default {\n      height: 40px;\n      width: 40px;\n      border: 1px solid #555;\n      border-radius: 50%;\n      background-color: white;\n      opacity: 0.7;\n      -webkit-transition: opacity 200ms;\n      transition: opacity 200ms; }\n\n    button.default:hover {\n      opacity: 1; }\n\n    button.default:disabled {\n      opacity: 0.25; }\n\n    .nav-button-container > button {\n      position: relative;\n      right: 0;\n      margin: 0 10px; }\n\n    .nav-button-container {\n      text-align: center;\n      position: absolute;\n      z-index: 98;\n      bottom: 10px;\n      left: 0;\n      right: 0; }\n\n    .spinner-container {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      width: 60px;\n      height: 60px;\n      margin: auto;\n      padding: 10px;\n      background-color: rgba(0, 0, 0, 0.4);\n      border-radius: 25%; }\n\n    .spinner {\n      border-width: 7px;\n      border-style: solid;\n      border-color: #ccc;\n      border-bottom-color: #222;\n      border-radius: 50%;\n      height: 100%;\n      width: 100%;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n      -webkit-animation: rotation 2s linear infinite;\n      /* Safari 4+ */\n      /* Fx 5+ */\n      /* Opera 12+ */\n      animation: rotation 2s linear infinite;\n      /* IE 10+, Fx 29+ */ }\n\n    @keyframes rotation {\n      from {\n        -webkit-transform: rotate(0deg); }\n      to {\n        -webkit-transform: rotate(359deg); } }\n\n    @-webkit-keyframes rotation {\n      from {\n        -webkit-transform: rotate(0deg); }\n      to {\n        -webkit-transform: rotate(359deg); } }\n  `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: ['config', ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'src': [{ type: Input },],\n'index': [{ type: Input },],\n'config': [{ type: Input },],\n'indexChange': [{ type: Output },],\n'configChange': [{ type: Output },],\n'customEvent': [{ type: Output },],\n'nextImage': [{ type: HostListener, args: ['window:keyup.ArrowRight', ['$event'], ] },],\n'prevImage': [{ type: HostListener, args: ['window:keyup.ArrowLeft', ['$event'], ] },],\n'onMouseOver': [{ type: HostListener, args: ['mouseover', ] },],\n'onMouseLeave': [{ type: HostListener, args: ['mouseleave', ] },],\n};\n}\n\nfunction ImageViewerComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nImageViewerComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nImageViewerComponent.ctorParameters;\n/** @type {?} */\nImageViewerComponent.propDecorators;\n/** @type {?} */\nImageViewerComponent.prototype.src;\n/** @type {?} */\nImageViewerComponent.prototype.index;\n/** @type {?} */\nImageViewerComponent.prototype.config;\n/** @type {?} */\nImageViewerComponent.prototype.indexChange;\n/** @type {?} */\nImageViewerComponent.prototype.configChange;\n/** @type {?} */\nImageViewerComponent.prototype.customEvent;\n/** @type {?} */\nImageViewerComponent.prototype.style;\n/** @type {?} */\nImageViewerComponent.prototype.fullscreen;\n/** @type {?} */\nImageViewerComponent.prototype.loading;\n/** @type {?} */\nImageViewerComponent.prototype.scale;\n/** @type {?} */\nImageViewerComponent.prototype.rotation;\n/** @type {?} */\nImageViewerComponent.prototype.translateX;\n/** @type {?} */\nImageViewerComponent.prototype.translateY;\n/** @type {?} */\nImageViewerComponent.prototype.prevX;\n/** @type {?} */\nImageViewerComponent.prototype.prevY;\n/** @type {?} */\nImageViewerComponent.prototype.hovered;\n/** @type {?} */\nImageViewerComponent.prototype.moduleConfig;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","export interface ImageViewerConfig {\n    btnClass?: string;\n    zoomFactor?: number;\n    containerBackgroundColor?: string;\n    wheelZoom?: boolean;\n    allowFullscreen?: boolean;\n    allowKeyboardNavigation?: boolean;\n\n    btnShow?: {\n      zoomIn?: boolean;\n      zoomOut?: boolean;\n      rotateClockwise?: boolean;\n      rotateCounterClockwise?: boolean;\n      next?: boolean;\n      prev?: boolean;\n    };\n\n    btnIcons?: {\n        zoomIn?: string;\n        zoomOut?: string;\n        rotateClockwise?: string;\n        rotateCounterClockwise?: string;\n        next?: string;\n        prev?: string;\n        fullscreen?: string;\n    };\n\n    customBtns?: Array<\n      {\n        name: string;\n        icon: string;\n      }\n    >;\n}\nexport class CustomEvent {\n  name: string;\n  imageIndex: number;\n/**\n * @param {?} name\n * @param {?} imageIndex\n */\nconstructor(name, imageIndex) {\n    this.name = name;\n    this.imageIndex = imageIndex;\n  }\n}\n\nfunction CustomEvent_tsickle_Closure_declarations() {\n/** @type {?} */\nCustomEvent.prototype.name;\n/** @type {?} */\nCustomEvent.prototype.imageIndex;\n}\n\n"],"names":["screenfull.exit","screenfull.enabled","screenfull.request"],"mappings":"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"}
